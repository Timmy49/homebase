<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Hub — Wordle · Globle · Daily Gazette</title>
  <meta name="description" content="A modern dashboard for daily games and news: NYT Wordle, Globle, and automated daily gazette fetching with enhanced UI." />
  <style>
    :root {
      --bg: #0a0e1a; --card: #1a1f2e; --muted: #94a3b8; --text: #f1f5f9; --accent: #3b82f6; --success: #10b981; --warning: #f59e0b; --error: #ef4444;
      --border: #334155; --hover: #475569;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--text);
      line-height: 1.6;
    }
    
    /* Header */
    .header {
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent), #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: var(--muted);
    }
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      animation: pulse 2s infinite;
    }
    
    /* Main Layout */
    .main-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      min-height: calc(100vh - 80px);
    }
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      gap: 2rem;
      height: 100%;
    }
    
    /* Cards */
    .game-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: flex;
      flex-direction: column;
      min-height: 600px;
    }
    .game-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }
    
    .gazette-card {
      grid-column: 1 / -1;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      min-height: 500px;
    }
    
    .card-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--border);
      background: rgba(59, 130, 246, 0.05);
    }
    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .card-subtitle {
      color: var(--muted);
      font-size: 0.875rem;
    }
    
    .card-controls {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1px solid transparent;
      text-decoration: none;
    }
    .btn-primary {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }
    .btn-primary:hover {
      background: #2563eb;
      transform: translateY(-1px);
    }
    .btn-secondary {
      background: transparent;
      color: var(--muted);
      border-color: var(--border);
    }
    .btn-secondary:hover {
      background: var(--hover);
      color: var(--text);
    }
    
    /* Game Frames */
    .game-frame {
      flex: 1;
      width: 100%;
      border: none;
      background: var(--bg);
      min-height: 500px;
    }
    
    .fallback-message {
      padding: 2rem;
      text-align: center;
      color: var(--muted);
      background: rgba(239, 68, 68, 0.1);
      border: 1px dashed #ef4444;
      margin: 1rem;
      border-radius: 0.5rem;
      display: none;
    }
    .card.error .fallback-message {
      display: block;
    }
    
    /* Gazette Content */
    .gazette-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .gazette-toolbar {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      gap: 1rem;
      align-items: center;
      flex-wrap: wrap;
    }
    .gazette-viewer {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
    }
    .gazette-panel {
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .panel-header {
      padding: 1rem;
      border-bottom: 1px solid var(--border);
      font-weight: 600;
      font-size: 0.875rem;
      background: rgba(59, 130, 246, 0.1);
    }
    .panel-content {
      flex: 1;
      padding: 1rem;
      overflow: auto;
      max-height: 400px;
    }
    
    .gazette-html-viewer {
      grid-column: 1 / -1;
      margin-top: 1rem;
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      overflow: hidden;
    }
    .gazette-html-content {
      width: 100%;
      height: 500px;
      border: none;
      background: white;
    }
    
    /* Loading States */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      color: var(--muted);
    }
    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid var(--border);
      border-top: 2px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 0.5rem;
    }
    
    /* Status Badge */
    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 500;
    }
    .status-success {
      background: rgba(16, 185, 129, 0.2);
      color: var(--success);
      border: 1px solid rgba(16, 185, 129, 0.3);
    }
    .status-error {
      background: rgba(239, 68, 68, 0.2);
      color: var(--error);
      border: 1px solid rgba(239, 68, 68, 0.3);
    }
    .status-loading {
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent);
      border: 1px solid rgba(59, 130, 246, 0.3);
    }
    
    /* Input Fields */
    .input-field {
      flex: 1;
      padding: 0.75rem;
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      color: var(--text);
      font-size: 0.875rem;
    }
    .input-field:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    /* Responsive Design */
    @media (max-width: 1024px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      .gazette-viewer {
        grid-template-columns: 1fr;
      }
      .main-container {
        padding: 1rem;
      }
    }
    
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 1rem;
      }
      .card-controls {
        flex-direction: column;
      }
      .gazette-toolbar {
        flex-direction: column;
        align-items: stretch;
      }
    }
    
    /* Animations */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: var(--bg);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: var(--hover);
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">Daily Hub</div>
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>Live Dashboard</span>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-container">
    <div class="dashboard-grid">
      <!-- Wordle Game Card -->
      <div class="game-card" id="wordle-card">
        <div class="card-header">
          <div class="card-title">
            🎯 Wordle
            <span class="status-badge status-loading" id="wordle-status">
              <div class="spinner"></div>
              Loading
            </span>
          </div>
          <div class="card-subtitle">Daily word puzzle from The New York Times</div>
          <div class="card-controls">
            <button class="btn btn-primary" onclick="refreshWordle()">
              🔄 Refresh
            </button>
            <a class="btn btn-secondary" href="https://www.nytimes.com/games/wordle/index.html" target="_blank">
              🔗 Open Direct
            </a>
          </div>
        </div>
        <iframe 
          id="wordle-frame" 
          class="game-frame" 
          src="https://www.nytimes.com/games/wordle/index.html" 
          title="Wordle Game"
          loading="lazy">
        </iframe>
        <div class="fallback-message">
          <h3>Unable to load Wordle</h3>
          <p>The game might be blocked by your browser or network settings.</p>
          <a class="btn btn-primary" href="https://www.nytimes.com/games/wordle/index.html" target="_blank">
            Open Wordle Directly
          </a>
        </div>
      </div>

      <!-- Globle Game Card -->
      <div class="game-card" id="globle-card">
        <div class="card-header">
          <div class="card-title">
            🌍 Globle
            <span class="status-badge status-loading" id="globle-status">
              <div class="spinner"></div>
              Loading
            </span>
          </div>
          <div class="card-subtitle">Daily geography guessing game</div>
          <div class="card-controls">
            <button class="btn btn-primary" onclick="refreshGlobe()">
              🔄 Refresh
            </button>
            <a class="btn btn-secondary" href="https://globle-game.com/" target="_blank">
              🔗 Open Direct
            </a>
          </div>
        </div>
        <iframe 
          id="globle-frame" 
          class="game-frame" 
          src="https://globle-game.com/" 
          title="Globle Game"
          loading="lazy">
        </iframe>
        <div class="fallback-message">
          <h3>Unable to load Globle</h3>
          <p>The game might be blocked by your browser or network settings.</p>
          <a class="btn btn-primary" href="https://globle-game.com/" target="_blank">
            Open Globle Directly
          </a>
        </div>
      </div>

      <!-- Daily Gazette Card -->
      <div class="gazette-card">
        <div class="card-header">
          <div class="card-title">
            📰 Daily Gazette
            <span class="status-badge status-loading" id="gazette-status">
              <div class="spinner"></div>
              Fetching
            </span>
          </div>
          <div class="card-subtitle">Automatically fetched daily news and updates</div>
          <div class="card-controls">
            <button class="btn btn-primary" onclick="fetchGazette()">
              🔄 Refresh Gazette
            </button>
            <button class="btn btn-secondary" onclick="toggleGazetteView()">
              👁️ Toggle View
            </button>
          </div>
        </div>
        
        <div class="gazette-content">
          <div class="gazette-toolbar">
            <input 
              type="url" 
              id="gazette-url" 
              class="input-field" 
              placeholder="Enter JSON-RPC URL (auto-fetches on load)..."
              value=""
            />
            <button class="btn btn-primary" onclick="fetchFromCustomUrl()">
              🌐 Fetch Custom
            </button>
          </div>
          
          <div class="gazette-viewer">
            <div class="gazette-panel">
              <div class="panel-header">📋 Raw JSON Response</div>
              <div class="panel-content">
                <pre id="json-raw-content">Waiting for data...</pre>
              </div>
            </div>
            
            <div class="gazette-panel">
              <div class="panel-header">📊 Parsed Data</div>
              <div class="panel-content">
                <div id="json-parsed-content">No data parsed yet</div>
              </div>
            </div>
            
            <div class="gazette-html-viewer">
              <div class="panel-header">📄 HTML Content Preview</div>
              <iframe 
                id="gazette-html-frame" 
                class="gazette-html-content"
                title="Gazette HTML Content"
                sandbox="allow-same-origin allow-scripts">
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Global state management
    const AppState = {
      gazetteData: null,
      gazetteUrl: '', // Will be set based on user's network analysis
      autoFetchEnabled: true,
      viewMode: 'split' // 'split', 'html-only', 'data-only'
    };

    // Utility functions
    function updateStatus(elementId, status, type = 'loading') {
      const element = document.getElementById(elementId);
      if (!element) return;
      
      const statusClasses = {
        loading: 'status-loading',
        success: 'status-success',
        error: 'status-error'
      };
      
      // Remove all status classes
      Object.values(statusClasses).forEach(cls => element.classList.remove(cls));
      
      // Add new status class
      element.classList.add(statusClasses[type] || 'status-loading');
      
      // Update content
      const spinner = type === 'loading' ? '<div class="spinner"></div>' : '';
      element.innerHTML = `${spinner}${status}`;
    }

    function showError(message, elementId = null) {
      console.error('App Error:', message);
      if (elementId) {
        updateStatus(elementId, `Error: ${message}`, 'error');
      }
    }

    function formatJsonForDisplay(data) {
      return JSON.stringify(data, null, 2);
    }

    // Game iframe management
    function setupGameIframe(iframeId, cardId, gameName) {
      const iframe = document.getElementById(iframeId);
      const card = document.getElementById(cardId);
      const statusId = `${gameName.toLowerCase()}-status`;
      
      if (!iframe || !card) return;

      // Set loading state
      updateStatus(statusId, 'Loading', 'loading');
      
      // Success handler
      iframe.onload = () => {
        setTimeout(() => {
          try {
            // Try to access iframe content to check if it loaded properly
            const iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;
            if (iframeDoc && iframeDoc.body && iframeDoc.body.innerHTML.trim()) {
              updateStatus(statusId, 'Loaded', 'success');
              card.classList.remove('error');
            } else {
              throw new Error('Empty content');
            }
          } catch (e) {
            // Cross-origin or blocked content
            updateStatus(statusId, 'Loaded (External)', 'success');
            card.classList.remove('error');
          }
        }, 2000);
      };
      
      // Error handler
      iframe.onerror = () => {
        updateStatus(statusId, 'Failed to Load', 'error');
        card.classList.add('error');
      };
      
      // Timeout fallback
      setTimeout(() => {
        try {
          const iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;
          if (!iframeDoc) {
            updateStatus(statusId, 'Blocked by CORS', 'error');
            card.classList.add('error');
          }
        } catch (e) {
          // This is actually normal for cross-origin iframes
          updateStatus(statusId, 'Loaded (External)', 'success');
        }
      }, 8000);
    }

    // Game refresh functions
    function refreshWordle() {
      const iframe = document.getElementById('wordle-frame');
      const card = document.getElementById('wordle-card');
      
      updateStatus('wordle-status', 'Refreshing', 'loading');
      card.classList.remove('error');
      
      // Force reload
      iframe.src = iframe.src;
    }

    function refreshGlobe() {
      const iframe = document.getElementById('globle-frame');
      const card = document.getElementById('globle-card');
      
      updateStatus('globle-status', 'Refreshing', 'loading');
      card.classList.remove('error');
      
      // Force reload
      iframe.src = iframe.src;
    }

    // JSON-RPC and Gazette functionality
    async function fetchJsonRpc(url, options = {}) {
      const defaultOptions = {
        method: 'GET',
        headers: {
          'Accept': 'application/json, text/html, */*',
          'Content-Type': 'application/json'
        },
        mode: 'cors',
        cache: 'no-cache'
      };
      
      const fetchOptions = { ...defaultOptions, ...options };
      
      try {
        const response = await fetch(url, fetchOptions);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        
        const contentType = response.headers.get('content-type') || '';
        let data;
        
        if (contentType.includes('application/json')) {
          data = await response.json();
        } else {
          const text = await response.text();
          // Try to parse as JSON first
          try {
            data = JSON.parse(text);
          } catch {
            // If not JSON, treat as HTML content
            data = {
              html: text,
              contentType: contentType,
              timestamp: new Date().toISOString()
            };
          }
        }
        
        return data;
      } catch (error) {
        console.error('Fetch error:', error);
        throw error;
      }
    }

    function displayGazetteData(data) {
      // Update raw JSON display
      const rawContent = document.getElementById('json-raw-content');
      if (rawContent) {
        rawContent.textContent = formatJsonForDisplay(data);
      }
      
      // Update parsed data display
      const parsedContent = document.getElementById('json-parsed-content');
      if (parsedContent) {
        let parsedHtml = '<div class="parsed-data">';
        
        if (data.result) {
          parsedHtml += `<h4>Result Data:</h4>`;
          parsedHtml += `<pre>${formatJsonForDisplay(data.result)}</pre>`;
        }
        
        if (data.error) {
          parsedHtml += `<h4 style="color: var(--error);">Error:</h4>`;
          parsedHtml += `<pre style="color: var(--error);">${formatJsonForDisplay(data.error)}</pre>`;
        }
        
        if (data.method) {
          parsedHtml += `<p><strong>Method:</strong> ${data.method}</p>`;
        }
        
        if (data.id) {
          parsedHtml += `<p><strong>ID:</strong> ${data.id}</p>`;
        }
        
        parsedHtml += '</div>';
        parsedContent.innerHTML = parsedHtml;
      }
      
      // Update HTML content display
      displayGazetteHtml(data);
    }

    function displayGazetteHtml(data) {
      const iframe = document.getElementById('gazette-html-frame');
      if (!iframe) return;
      
      let htmlContent = '';
      
      // Extract HTML content from various possible locations
      if (data.html) {
        htmlContent = data.html;
      } else if (data.result && data.result.html) {
        htmlContent = data.result.html;
      } else if (data.result && typeof data.result === 'string' && data.result.includes('<')) {
        htmlContent = data.result;
      } else if (typeof data === 'string' && data.includes('<')) {
        htmlContent = data;
      }
      
      if (htmlContent) {
        // Create a blob URL for the HTML content
        const blob = new Blob([htmlContent], { type: 'text/html' });
        iframe.src = URL.createObjectURL(blob);
      } else {
        // Show a message if no HTML content is found
        const noContentHtml = `
          <html>
            <head>
              <style>
                body { 
                  font-family: system-ui, sans-serif; 
                  padding: 2rem; 
                  text-align: center; 
                  color: #666; 
                  background: #f8f9fa;
                }
                .message { 
                  background: white; 
                  padding: 2rem; 
                  border-radius: 8px; 
                  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                  max-width: 400px;
                  margin: 0 auto;
                }
              </style>
            </head>
            <body>
              <div class="message">
                <h3>📄 No HTML Content</h3>
                <p>The JSON-RPC response doesn't contain HTML content to display.</p>
                <p>Check the raw JSON and parsed data panels for available information.</p>
              </div>
            </body>
          </html>
        `;
        const blob = new Blob([noContentHtml], { type: 'text/html' });
        iframe.src = URL.createObjectURL(blob);
      }
    }

    async function fetchGazette() {
      const url = document.getElementById('gazette-url').value.trim() || AppState.gazetteUrl;
      
      if (!url) {
        showError('No gazette URL configured', 'gazette-status');
        return;
      }
      
      updateStatus('gazette-status', 'Fetching', 'loading');
      
      try {
        const data = await fetchJsonRpc(url);
        AppState.gazetteData = data;
        displayGazetteData(data);
        updateStatus('gazette-status', 'Updated', 'success');
      } catch (error) {
        showError(error.message, 'gazette-status');
        
        // Show demo data on error for development
        if (AppState.autoFetchEnabled) {
          console.log('Falling back to demo data...');
          loadDemoGazette();
        }
      }
    }

    function fetchFromCustomUrl() {
      const url = document.getElementById('gazette-url').value.trim();
      if (!url) {
        showError('Please enter a URL', 'gazette-status');
        return;
      }
      
      AppState.gazetteUrl = url;
      fetchGazette();
    }

    function toggleGazetteView() {
      const viewer = document.querySelector('.gazette-viewer');
      if (!viewer) return;
      
      const modes = ['split', 'html-only', 'data-only'];
      const currentIndex = modes.indexOf(AppState.viewMode);
      const nextIndex = (currentIndex + 1) % modes.length;
      AppState.viewMode = modes[nextIndex];
      
      // Apply view mode styles
      viewer.className = `gazette-viewer view-${AppState.viewMode}`;
      
      // Update button text
      const button = document.querySelector('[onclick="toggleGazetteView()"]');
      if (button) {
        const modeNames = {
          'split': '👁️ Split View',
          'html-only': '📄 HTML Only',
          'data-only': '📊 Data Only'
        };
        button.innerHTML = modeNames[AppState.viewMode];
      }
    }

    function loadDemoGazette() {
      const demoData = {
        "jsonrpc": "2.0",
        "id": "gazette-demo-" + Date.now(),
        "result": {
          "title": "Daily Tech Gazette - Demo",
          "date": new Date().toISOString().split('T')[0],
          "timestamp": new Date().toISOString(),
          "articles": [
            {
              "id": 1,
              "headline": "AI Development Trends 2024",
              "summary": "Latest developments in artificial intelligence continue to reshape technology landscapes.",
              "category": "Technology"
            },
            {
              "id": 2,
              "headline": "Web Performance Optimization",
              "summary": "New techniques for improving web application performance and user experience.",
              "category": "Web Development"
            },
            {
              "id": 3,
              "headline": "Cybersecurity Updates",
              "summary": "Important security patches and best practices for modern applications.",
              "category": "Security"
            }
          ]
        },
        "html": `
          <!DOCTYPE html>
          <html lang="en">
            <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>Daily Tech Gazette</title>
              <style>
                * { margin: 0; padding: 0; box-sizing: border-box; }
                body { 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  line-height: 1.6; 
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                  min-height: 100vh;
                  padding: 20px;
                }
                .container {
                  max-width: 800px;
                  margin: 0 auto;
                  background: white;
                  border-radius: 12px;
                  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                  overflow: hidden;
                }
                .header {
                  background: linear-gradient(135deg, #2c3e50, #34495e);
                  color: white;
                  padding: 2rem;
                  text-align: center;
                }
                .header h1 {
                  font-size: 2.5rem;
                  margin-bottom: 0.5rem;
                  font-weight: 300;
                }
                .header p {
                  opacity: 0.9;
                  font-size: 1.1rem;
                }
                .date {
                  background: #ecf0f1;
                  padding: 1rem;
                  text-align: center;
                  color: #7f8c8d;
                  font-weight: 500;
                }
                .content {
                  padding: 2rem;
                }
                .article {
                  background: #f8f9fa;
                  margin: 1.5rem 0;
                  padding: 1.5rem;
                  border-radius: 8px;
                  border-left: 4px solid #3498db;
                  transition: transform 0.2s ease, box-shadow 0.2s ease;
                }
                .article:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                }
                .article .category {
                  display: inline-block;
                  background: #3498db;
                  color: white;
                  padding: 0.25rem 0.75rem;
                  border-radius: 20px;
                  font-size: 0.8rem;
                  font-weight: 500;
                  margin-bottom: 1rem;
                }
                .article .headline {
                  font-size: 1.4rem;
                  font-weight: 600;
                  color: #2c3e50;
                  margin-bottom: 0.75rem;
                }
                .article .summary {
                  color: #5a6c7d;
                  font-size: 1rem;
                  line-height: 1.6;
                }
                .footer {
                  background: #2c3e50;
                  color: white;
                  padding: 1.5rem;
                  text-align: center;
                  font-size: 0.9rem;
                }
                @media (max-width: 600px) {
                  body { padding: 10px; }
                  .header h1 { font-size: 2rem; }
                  .content { padding: 1rem; }
                  .article { padding: 1rem; }
                }
              </style>
            </head>
            <body>
              <div class="container">
                <div class="header">
                  <h1>📰 Daily Tech Gazette</h1>
                  <p>Your daily dose of technology news and insights</p>
                </div>
                <div class="date">
                  📅 ${new Date().toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                  })}
                </div>
                <div class="content">
                  <div class="article">
                    <div class="category">Technology</div>
                    <div class="headline">🤖 AI Development Trends 2024</div>
                    <div class="summary">
                      Artificial intelligence continues to evolve at an unprecedented pace. From large language models to 
                      computer vision breakthroughs, the latest developments are reshaping how we interact with technology 
                      and opening new possibilities for innovation across industries.
                    </div>
                  </div>
                  <div class="article">
                    <div class="category">Web Development</div>
                    <div class="headline">⚡ Web Performance Optimization</div>
                    <div class="summary">
                      Modern web applications demand exceptional performance. New techniques in code splitting, lazy loading, 
                      and edge computing are enabling developers to create faster, more responsive user experiences while 
                      maintaining rich functionality.
                    </div>
                  </div>
                  <div class="article">
                    <div class="category">Security</div>
                    <div class="headline">🔒 Cybersecurity Updates</div>
                    <div class="summary">
                      As digital threats evolve, staying ahead of security vulnerabilities is crucial. Recent patches and 
                      best practices focus on zero-trust architectures, enhanced authentication methods, and proactive 
                      threat detection systems.
                    </div>
                  </div>
                </div>
                <div class="footer">
                  <p>🚀 Powered by Daily Hub | Auto-updated via JSON-RPC</p>
                </div>
              </div>
            </body>
          </html>
        `
      };
      
      AppState.gazetteData = demoData;
      displayGazetteData(demoData);
      updateStatus('gazette-status', 'Demo Loaded', 'success');
    }

    // Initialize application
    function initializeApp() {
      console.log('🚀 Initializing Daily Hub...');
      
      // Setup game iframes
      setupGameIframe('wordle-frame', 'wordle-card', 'Wordle');
      setupGameIframe('globle-frame', 'globle-card', 'Globle');
      
      // Auto-fetch gazette data
      setTimeout(() => {
        if (AppState.autoFetchEnabled) {
          console.log('📰 Auto-fetching gazette data...');
          // For demo purposes, load demo data
          // In production, this would use the actual JSON-RPC endpoint
          loadDemoGazette();
        }
      }, 2000);
      
      console.log('✅ Daily Hub initialized successfully');
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', initializeApp);
    
    // Make functions globally available
    window.refreshWordle = refreshWordle;
    window.refreshGlobe = refreshGlobe;
    window.fetchGazette = fetchGazette;
    window.fetchFromCustomUrl = fetchFromCustomUrl;
    window.toggleGazetteView = toggleGazetteView;
  </script>
</body>
</html>
